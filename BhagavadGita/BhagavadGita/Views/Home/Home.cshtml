@model IEnumerable<BhagavadGita.Models.ChapInfo>
@{
    ViewBag.Title = "Home";
}
<link rel="stylesheet" href="~/Content/index.css" />
<style>
    .container {
        padding: 0px !important;
        width: 100% !important;
    }

    .cardDiv {
        display: flex;
        flex-wrap: wrap;
    }

    .cards {
        margin: 10px;
        padding: 10px;
        color: #FFFFFF;
        flex: 30%;
        border: 1px solid black;
        border-radius: 5px;
        background: rgb(131,58,180);
        background: linear-gradient(30deg, rgba(131,58,180,1) 0%, rgba(253,29,29,1) 50%, rgba(252,176,69,1) 100%);
    }
</style>
<div class="cardDiv">
    @foreach (var item in (IEnumerable<BhagavadGita.Models.ChapInfo>)ViewData["chapters"])
    { 
        <div class="cards">
            <span style="display: none;">@Html.DisplayFor(modelItem => item.chId)</span>
            <h3>@Html.DisplayFor(modelItem => item.chName)</h3>
            <p>@Html.DisplayFor(modelItem => item.chDesc)</p>
            <p><a class="button button-square-right" onclick="myFun(@Html.DisplayFor(modelItem => item.chId))">Read More</a></p>
        </div>
    }
</div>
<script>
    function myFun(chId) {
        //alert(chId);
        var data = new FormData();
        data.append('chId', chId);
        jQuery.ajax({
            url: '/Home/ChapterSelection',
            data: data,
            cache: false,
            contentType: false,
            processData: false,
            method: 'POST',
            type: 'POST',
            success: function (data) {
                var data = data.data;
                var len = data.length;
                console.log(data);
                console.log("Len: " + len);
                window.location.href = "/Home/Result?chId=" + chId;
            }
        });
    }
</script>